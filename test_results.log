warning: profiles for the non root package will be ignored, specify profiles at the workspace root:
package:   /Users/dmf/repos/doc-rag/src/response-generator/Cargo.toml
workspace: /Users/dmf/repos/doc-rag/Cargo.toml
warning: output filename collision.
The example target `basic_usage` in package `response-generator v0.1.0 (/Users/dmf/repos/doc-rag/src/response-generator)` has the same output filename as the example target `basic_usage` in package `embedder v0.1.0 (/Users/dmf/repos/doc-rag/src/embedder)`.
Colliding filename is: /Users/dmf/repos/doc-rag/target/debug/examples/basic_usage
The targets should have unique names.
Consider changing their names to be unique or compiling them separately.
This may become a hard error in the future; see <https://github.com/rust-lang/cargo/issues/6313>.
warning: output filename collision.
The example target `basic_usage` in package `response-generator v0.1.0 (/Users/dmf/repos/doc-rag/src/response-generator)` has the same output filename as the example target `basic_usage` in package `embedder v0.1.0 (/Users/dmf/repos/doc-rag/src/embedder)`.
Colliding filename is: /Users/dmf/repos/doc-rag/target/debug/examples/basic_usage.dSYM
The targets should have unique names.
Consider changing their names to be unique or compiling them separately.
This may become a hard error in the future; see <https://github.com/rust-lang/cargo/issues/6313>.
warning: output filename collision.
The example target `basic_usage` in package `storage v0.1.0 (/Users/dmf/repos/doc-rag/src/storage)` has the same output filename as the example target `basic_usage` in package `response-generator v0.1.0 (/Users/dmf/repos/doc-rag/src/response-generator)`.
Colliding filename is: /Users/dmf/repos/doc-rag/target/debug/examples/basic_usage
The targets should have unique names.
Consider changing their names to be unique or compiling them separately.
This may become a hard error in the future; see <https://github.com/rust-lang/cargo/issues/6313>.
warning: output filename collision.
The example target `basic_usage` in package `storage v0.1.0 (/Users/dmf/repos/doc-rag/src/storage)` has the same output filename as the example target `basic_usage` in package `response-generator v0.1.0 (/Users/dmf/repos/doc-rag/src/response-generator)`.
Colliding filename is: /Users/dmf/repos/doc-rag/target/debug/examples/basic_usage.dSYM
The targets should have unique names.
Consider changing their names to be unique or compiling them separately.
This may become a hard error in the future; see <https://github.com/rust-lang/cargo/issues/6313>.
   Compiling serde_json v1.0.143
   Compiling sct v0.7.1
   Compiling rustls-webpki v0.101.7
   Compiling idna_adapter v1.2.1
   Compiling h2 v0.3.27
   Compiling tokio-stream v0.1.17
   Compiling gemm-common v0.17.1
   Compiling zeroize v1.8.1
   Compiling httparse v1.10.1
   Compiling security-framework-sys v2.14.0
   Compiling core-foundation v0.9.4
   Compiling base64ct v1.8.0
   Compiling gemm-f32 v0.18.2
   Compiling http v1.3.1
   Compiling idna v1.1.0
   Compiling rustls-pki-types v1.12.0
   Compiling crc32fast v1.5.0
   Compiling pem-rfc7468 v0.7.0
   Compiling native-tls v0.2.14
   Compiling rustls v0.21.12
   Compiling tokio-test v0.4.4
   Compiling url v2.5.7
   Compiling security-framework v2.11.1
   Compiling base64 v0.22.1
   Compiling tracing-subscriber v0.3.20
   Compiling tinytemplate v1.2.1
   Compiling adler2 v2.0.1
   Compiling gemm-f16 v0.18.2
   Compiling criterion v0.5.1
   Compiling validator v0.16.1
   Compiling miniz_oxide v0.8.9
   Compiling ureq-proto v0.5.1
   Compiling tokio-rustls v0.24.1
   Compiling rustls-pemfile v2.2.0
   Compiling webpki-root-certs v1.0.2
   Compiling der v0.7.10
   Compiling gemm-f32 v0.17.1
   Compiling ordered-multimap v0.7.3
   Compiling gemm-c64 v0.18.2
   Compiling gemm-f64 v0.18.2
   Compiling hyper v0.14.32
   Compiling gemm-c32 v0.18.2
   Compiling xattr v1.5.1
   Compiling socks v0.3.4
   Compiling filetime v0.2.26
   Compiling utf-8 v0.7.6
   Compiling tar v0.4.44
   Compiling ruv-fann v0.1.6
   Compiling ureq v3.1.0
   Compiling gemm v0.18.2
   Compiling gemm-f16 v0.17.1
   Compiling rust-ini v0.20.0
   Compiling flate2 v1.1.2
   Compiling safetensors v0.4.5
   Compiling gemm-f64 v0.17.1
   Compiling hyper-tls v0.5.0
   Compiling hyper-rustls v0.24.2
   Compiling metrics-exporter-prometheus v0.12.2
   Compiling reqwest v0.11.27
   Compiling gemm-c32 v0.17.1
   Compiling gemm-c64 v0.17.1
   Compiling pkg-config v0.3.32
   Compiling ug v0.1.0
   Compiling ort-sys v2.0.0-rc.10
   Compiling config v0.14.1
   Compiling gemm v0.17.1
   Compiling ndarray v0.16.1
   Compiling candle-core v0.8.4
   Compiling smallvec v2.0.0-alpha.10
   Compiling config v0.13.4
   Compiling blake3 v1.8.2
   Compiling fact-tools v1.0.0
   Compiling trust-dns-proto v0.21.2
   Compiling response-generator v0.1.0 (/Users/dmf/repos/doc-rag/src/response-generator)
   Compiling bson v2.15.0
   Compiling bollard-stubs v1.42.0-rc.3
warning: unused import: `citation::Source`
 --> src/response-generator/src/builder.rs:6:5
  |
6 |     citation::Source,
  |     ^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `error`
 --> src/response-generator/src/citation.rs:6:46
  |
6 | use tracing::{debug, instrument, warn, info, error};
  |                                              ^^^^^

warning: unused variable: `context`
   --> src/response-generator/src/lib.rs:275:13
    |
275 |         let context = ProcessingContext::new(&request);
    |             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `builder`
   --> src/response-generator/src/lib.rs:278:17
    |
278 |         let mut builder = ResponseBuilder::new(request.clone());
    |                 ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_builder`

warning: variable does not need to be mutable
   --> src/response-generator/src/lib.rs:278:13
    |
278 |         let mut builder = ResponseBuilder::new(request.clone());
    |             ----^^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
   --> src/response-generator/src/pipeline.rs:359:13
    |
359 |         let mut current_builder = builder;
    |             ----^^^^^^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> src/response-generator/src/cache.rs:259:23
    |
259 |             if let Ok(mut cache) = self.fact_cache.lock() {
    |                       ----^^^^^
    |                       |
    |                       help: remove this `mut`

warning: unused variable: `context_key`
   --> src/response-generator/src/cache.rs:351:21
    |
351 |                 let context_key = format!("context:{}", blake3::hash(format!("{:?}", request.context).as_bytes()).to_hex());
    |                     ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context_key`

warning: unused variable: `context_data`
   --> src/response-generator/src/cache.rs:352:21
    |
352 |                 let context_data = serde_json::json!({
    |                     ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context_data`

warning: unused variable: `i`
    --> src/response-generator/src/citation.rs:1456:14
     |
1456 |         for (i, sentence) in sentences.iter().enumerate() {
     |              ^ help: if this is intentional, prefix it with an underscore: `_i`

warning: variable does not need to be mutable
    --> src/response-generator/src/citation.rs:1451:13
     |
1451 |         let mut recommended_citations = Vec::new();
     |             ----^^^^^^^^^^^^^^^^^^^^^
     |             |
     |             help: remove this `mut`

   Compiling candle-nn v0.8.4
   Compiling ort v2.0.0-rc.10
   Compiling trust-dns-resolver v0.21.2
   Compiling cipher v0.3.0
   Compiling des v0.7.0
warning: unused variable: `context`
   --> src/response-generator/src/pipeline.rs:102:9
    |
102 |         context: &ProcessingContext,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`

warning: unused variable: `context`
   --> src/response-generator/src/pipeline.rs:119:44
    |
119 |     async fn validate_preconditions(&self, context: &ProcessingContext) -> Result<()> {
    |                                            ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`

warning: unused variable: `context`
   --> src/response-generator/src/pipeline.rs:124:29
    |
124 |     async fn cleanup(&self, context: &ProcessingContext) -> Result<()> {
    |                             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`

warning: unused variable: `context`
   --> src/response-generator/src/pipeline.rs:512:9
    |
512 |         context: &ProcessingContext,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`

warning: unused variable: `context`
   --> src/response-generator/src/pipeline.rs:554:9
    |
554 |         context: &ProcessingContext,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`

warning: unused variable: `context`
   --> src/response-generator/src/pipeline.rs:567:9
    |
567 |         context: &ProcessingContext,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`

warning: unused variable: `context`
   --> src/response-generator/src/pipeline.rs:621:9
    |
621 |         context: &ProcessingContext,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`

warning: unused variable: `context`
   --> src/response-generator/src/pipeline.rs:663:9
    |
663 |         context: &ProcessingContext,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`

   Compiling candle-transformers v0.8.4
warning: unused variable: `request`
   --> src/response-generator/src/validator.rs:477:9
    |
477 |         request: &GenerationRequest,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_request`

warning: unused variable: `request`
   --> src/response-generator/src/validator.rs:569:9
    |
569 |         request: &GenerationRequest,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_request`

warning: unused variable: `request`
   --> src/response-generator/src/validator.rs:655:9
    |
655 |         request: &GenerationRequest,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_request`

warning: unused variable: `request`
   --> src/response-generator/src/validator.rs:849:9
    |
849 |         request: &GenerationRequest,
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_request`

warning: unused variable: `request`
    --> src/response-generator/src/validator.rs:1001:9
     |
1001 |         request: &GenerationRequest,
     |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_request`

   Compiling mongodb v2.8.2
warning: field `citation_tracker` is never read
  --> src/response-generator/src/lib.rs:86:5
   |
81 | pub struct ResponseGenerator {
   |            ----------------- field in this struct
...
86 |     citation_tracker: CitationTracker,
   |     ^^^^^^^^^^^^^^^^
   |
   = note: `ResponseGenerator` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` on by default

warning: field `content` is never read
   --> src/response-generator/src/lib.rs:549:5
    |
546 | struct TextSegment {
    |        ----------- field in this struct
...
549 |     content: String,
    |     ^^^^^^^
    |
    = note: `TextSegment` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `relevance_score` is never read
  --> src/response-generator/src/builder.rs:49:5
   |
47 | struct RankedContext {
   |        ------------- field in this struct
48 |     chunk: ContextChunk,
49 |     relevance_score: f64,
   |     ^^^^^^^^^^^^^^^
   |
   = note: `RankedContext` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `confidence` is never read
  --> src/response-generator/src/builder.rs:67:5
   |
56 | struct ContentSection {
   |        -------------- field in this struct
...
67 |     confidence: f64,
   |     ^^^^^^^^^^
   |
   = note: `ContentSection` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: fields `query_type` and `expected_sections` are never read
   --> src/response-generator/src/builder.rs:794:5
    |
793 | struct QueryAnalysis {
    |        ------------- fields in this struct
794 |     query_type: QueryType,
    |     ^^^^^^^^^^
...
797 |     expected_sections: Vec<SectionType>,
    |     ^^^^^^^^^^^^^^^^^
    |
    = note: `QueryAnalysis` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `context_mgr` is never read
  --> src/response-generator/src/cache.rs:24:5
   |
19 | pub struct FACTCacheManager {
   |            ---------------- field in this struct
...
24 |     context_mgr: Arc<SimpleContextManager>,
   |     ^^^^^^^^^^^
   |
   = note: `FACTCacheManager` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: field `config` is never read
    --> src/response-generator/src/citation.rs:1204:5
     |
1203 | pub struct CitationQualityAssurance {
     |            ------------------------ field in this struct
1204 |     config: CitationConfig,
     |     ^^^^^^
     |
     = note: `CitationQualityAssurance` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `evidence_patterns` is never read
    --> src/response-generator/src/citation.rs:1213:5
     |
1210 | pub struct CitationCoverageAnalyzer {
     |            ------------------------ field in this struct
...
1213 |     evidence_patterns: Vec<String>,
     |     ^^^^^^^^^^^^^^^^^
     |
     = note: `CitationCoverageAnalyzer` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: function `serialize` is never used
   --> src/response-generator/src/config.rs:585:12
    |
585 |     pub fn serialize<S>(duration: &Duration, serializer: S) -> Result<S::Ok, S::Error>
    |            ^^^^^^^^^

warning: function `deserialize` is never used
   --> src/response-generator/src/config.rs:592:12
    |
592 |     pub fn deserialize<'de, D>(deserializer: D) -> Result<Duration, D::Error>
    |            ^^^^^^^^^^^

   Compiling h2 v0.4.12
   Compiling testcontainers v0.15.0
   Compiling crypto-mac v0.11.1
   Compiling opentelemetry v0.21.0
   Compiling sprs v0.11.1
   Compiling tungstenite v0.24.0
   Compiling daa v0.5.0
   Compiling hyper v1.7.0
   Compiling opentelemetry_sdk v0.21.2
   Compiling linfa v0.7.1
   Compiling tokio-tungstenite v0.24.0
   Compiling hyper-util v0.1.16
   Compiling storage v0.1.0 (/Users/dmf/repos/doc-rag/src/storage)
   Compiling tower v0.4.13
warning: unused import: `std::collections::HashMap`
  --> src/storage/src/lib.rs:13:5
   |
13 | use std::collections::HashMap;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused imports: `AggregateOptions`, `Bson`, `CreateIndexOptions`, `DeleteResult`, `Document`, `FindOptions`, `InsertManyResult`, `UpdateResult`, `from_document`, and `to_document`
  --> src/storage/src/lib.rs:20:30
   |
20 |     options::{ClientOptions, CreateIndexOptions, IndexOptions, AggregateOptions, FindOptions},
   |                              ^^^^^^^^^^^^^^^^^^                ^^^^^^^^^^^^^^^^  ^^^^^^^^^^^
21 |     bson::{doc, Document, Bson, from_document, to_document},
   |                 ^^^^^^^^  ^^^^  ^^^^^^^^^^^^^  ^^^^^^^^^^^
22 |     IndexModel,
23 |     results::{InsertManyResult, UpdateResult, DeleteResult},
   |               ^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^  ^^^^^^^^^^^^

warning: unused import: `futures::stream::TryStreamExt`
  --> src/storage/src/lib.rs:25:5
   |
25 | use futures::stream::TryStreamExt;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `DateTime` and `Utc`
  --> src/storage/src/lib.rs:28:14
   |
28 | use chrono::{DateTime, Utc};
   |              ^^^^^^^^  ^^^

warning: unused import: `async_trait::async_trait`
  --> src/storage/src/lib.rs:30:5
   |
30 | use async_trait::async_trait;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `debug`
  --> src/storage/src/lib.rs:31:34
   |
31 | use tracing::{info, warn, error, debug, instrument};
   |                                  ^^^^^

warning: unused imports: `Collection`, `DeleteOptions`, `DeleteResult`, `InsertManyResult`, `ReadPreference`, `UpdateResult`, and `from_document`
  --> src/storage/src/operations.rs:10:40
   |
10 |     bson::{doc, Document, to_document, from_document},
   |                                        ^^^^^^^^^^^^^
11 |     options::{
12 |         FindOptions, UpdateOptions, DeleteOptions, InsertManyOptions,
   |                                     ^^^^^^^^^^^^^
13 |         ReadPreference, WriteConcern, ReadConcern, TransactionOptions,
   |         ^^^^^^^^^^^^^^
14 |     },
15 |     results::{InsertManyResult, UpdateResult, DeleteResult},
   |               ^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^  ^^^^^^^^^^^^
16 |     ClientSession, Collection,
   |                    ^^^^^^^^^^

warning: unused imports: `Deserialize` and `Serialize`
  --> src/storage/src/operations.rs:19:13
   |
19 | use serde::{Deserialize, Serialize};
   |             ^^^^^^^^^^^  ^^^^^^^^^

warning: unused import: `anyhow`
  --> src/storage/src/operations.rs:22:31
   |
22 | use anyhow::{Result, Context, anyhow};
   |                               ^^^^^^

warning: unused import: `MetadataDocument`
  --> src/storage/src/operations.rs:26:43
   |
26 | use crate::{VectorStorage, ChunkDocument, MetadataDocument, BulkInsertRequest, BulkInsertResponse, BulkInsertError};
   |                                           ^^^^^^^^^^^^^^^^

warning: unused import: `Duration`
 --> src/storage/src/search.rs:9:17
  |
9 | use std::time::{Duration, Instant};
  |                 ^^^^^^^^

warning: unused imports: `Bson`, `Cursor`, and `FindOptions`
  --> src/storage/src/search.rs:13:27
   |
13 |     bson::{doc, Document, Bson},
   |                           ^^^^
14 |     options::{AggregateOptions, FindOptions},
   |                                 ^^^^^^^^^^^
15 |     Cursor,
   |     ^^^^^^

warning: unused import: `TryStreamExt`
  --> src/storage/src/search.rs:17:34
   |
17 | use futures::stream::{StreamExt, TryStreamExt};
   |                                  ^^^^^^^^^^^^

warning: unused imports: `debug`, `error`, and `warn`
  --> src/storage/src/search.rs:23:21
   |
23 | use tracing::{info, warn, error, debug, instrument};
   |                     ^^^^  ^^^^^  ^^^^^

warning: unused imports: `Array1` and `Array2`
  --> src/storage/src/search.rs:24:15
   |
24 | use ndarray::{Array1, Array2};
   |               ^^^^^^  ^^^^^^

warning: unused import: `ChunkMetadata`
  --> src/storage/src/search.rs:26:43
   |
26 | use crate::{VectorStorage, ChunkDocument, ChunkMetadata};
   |                                           ^^^^^^^^^^^^^

warning: unused import: `Arc`
 --> src/storage/src/metrics.rs:3:17
  |
3 | use std::sync::{Arc, RwLock};
  |                 ^^^

   Compiling axum v0.7.9
   Compiling opentelemetry-semantic-conventions v0.13.0
   Compiling chunker v0.1.0 (/Users/dmf/repos/doc-rag/src/chunker)
error[E0433]: failed to resolve: could not find `TrainData` in `ruv_fann`
   --> src/chunker/src/neural_chunker.rs:157:45
    |
157 |             let additional_data = ruv_fann::TrainData::new(additional_boundary_inputs, additional_boundary_outputs);
    |                                             ^^^^^^^^^
    |                                             |
    |                                             could not find `TrainData` in `ruv_fann`
    |                                             help: a struct with a similar name exists: `TrainingData`

error[E0433]: failed to resolve: could not find `TrainAlgorithm` in `ruv_fann`
   --> src/chunker/src/neural_chunker.rs:307:50
    |
307 |         network.set_training_algorithm(ruv_fann::TrainAlgorithm::Rprop);
    |                                                  ^^^^^^^^^^^^^^
    |                                                  |
    |                                                  could not find `TrainAlgorithm` in `ruv_fann`
    |                                                  help: an enum with a similar name exists: `TrainingAlgorithm`

error[E0433]: failed to resolve: could not find `TrainAlgorithm` in `ruv_fann`
   --> src/chunker/src/neural_chunker.rs:346:50
    |
346 |         network.set_training_algorithm(ruv_fann::TrainAlgorithm::Rprop);
    |                                                  ^^^^^^^^^^^^^^
    |                                                  |
    |                                                  could not find `TrainAlgorithm` in `ruv_fann`
    |                                                  help: an enum with a similar name exists: `TrainingAlgorithm`

error[E0433]: failed to resolve: could not find `TrainData` in `ruv_fann`
   --> src/chunker/src/neural_chunker.rs:450:22
    |
450 |         Ok(ruv_fann::TrainData::new(inputs, outputs))
    |                      ^^^^^^^^^
    |                      |
    |                      could not find `TrainData` in `ruv_fann`
    |                      help: a struct with a similar name exists: `TrainingData`

error[E0433]: failed to resolve: could not find `TrainData` in `ruv_fann`
   --> src/chunker/src/neural_chunker.rs:504:22
    |
504 |         Ok(ruv_fann::TrainData::new(inputs, outputs))
    |                      ^^^^^^^^^
    |                      |
    |                      could not find `TrainData` in `ruv_fann`
    |                      help: a struct with a similar name exists: `TrainingData`

error[E0412]: cannot find type `TrainData` in crate `ruv_fann`
   --> src/chunker/src/neural_chunker.rs:376:62
    |
376 |     fn generate_boundary_training_data() -> Result<ruv_fann::TrainData<f32>> {
    |                                                              ^^^^^^^^^ help: a struct with a similar name exists: `TrainingData`
    |
   ::: /Users/dmf/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/ruv-fann-0.1.6/src/training/mod.rs:20:1
    |
20  | pub struct TrainingData<T: Float> {
    | --------------------------------- similarly named struct `TrainingData` defined here

error[E0412]: cannot find type `TrainData` in crate `ruv_fann`
   --> src/chunker/src/neural_chunker.rs:454:62
    |
454 |     fn generate_semantic_training_data() -> Result<ruv_fann::TrainData<f32>> {
    |                                                              ^^^^^^^^^ help: a struct with a similar name exists: `TrainingData`
    |
   ::: /Users/dmf/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/ruv-fann-0.1.6/src/training/mod.rs:20:1
    |
20  | pub struct TrainingData<T: Float> {
    | --------------------------------- similarly named struct `TrainingData` defined here

warning: unused import: `warn`
  --> src/chunker/src/neural_chunker.rs:12:21
   |
12 | use tracing::{info, warn};
   |                     ^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: `response-generator` (lib) generated 34 warnings (run `cargo fix --lib -p response-generator` to apply 6 suggestions)
   Compiling embedder v0.1.0 (/Users/dmf/repos/doc-rag/src/embedder)
   Compiling tower-http v0.5.2
error[E0412]: cannot find type `Session` in crate `ort`
  --> src/embedder/src/models.rs:38:19
   |
38 |     session: ort::Session,
   |                   ^^^^^^^ not found in `ort`
   |
help: consider importing this struct
   |
6  + use ort::session::Session;
   |
help: if you import `Session`, refer to it directly
   |
38 -     session: ort::Session,
38 +     session: Session,
   |

error[E0433]: failed to resolve: could not find `Session` in `ort`
   --> src/embedder/src/models.rs:216:18
    |
216 |             ort::Session::builder()?
    |                  ^^^^^^^ could not find `Session` in `ort`
    |
help: consider importing this struct
    |
6   + use ort::session::Session;
    |
help: if you import `Session`, refer to it directly
    |
216 -             ort::Session::builder()?
216 +             Session::builder()?
    |

error[E0599]: no method named `save` found for struct `ruv_fann::Network` in the current scope
  --> src/chunker/src/neural_chunker.rs:67:32
   |
67 |         self.boundary_detector.save(&boundary_path.to_string_lossy())
   |                                ^^^^ method not found in `Network<f32>`

error[E0599]: no method named `save` found for struct `ruv_fann::Network` in the current scope
  --> src/chunker/src/neural_chunker.rs:71:32
   |
71 |         self.semantic_analyzer.save(&semantic_path.to_string_lossy())
   |                                ^^^^ method not found in `Network<f32>`

error[E0599]: no function or associated item named `load` found for struct `ruv_fann::Network` in the current scope
   --> src/chunker/src/neural_chunker.rs:101:42
    |
101 |         let boundary_detector = Network::load(&boundary_path.to_string_lossy())
    |                                          ^^^^ function or associated item not found in `Network<_>`
    |
note: if you're trying to build a new `ruv_fann::Network<_>` consider using one of the following associated functions:
      ruv_fann::Network::<T>::new
      ruv_fann::Network::<T>::from_bytes
   --> /Users/dmf/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/ruv-fann-0.1.6/src/network.rs:38:5
    |
38  |       pub fn new(layer_sizes: &[usize]) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
326 | /     pub fn from_bytes(bytes: &[u8]) -> Result<Self, NetworkError>
327 | |     where
328 | |         T: serde::de::DeserializeOwned,
329 | |         Network<T>: serde::de::DeserializeOwned,
    | |________________________________________________^

error[E0599]: no function or associated item named `load` found for struct `ruv_fann::Network` in the current scope
   --> src/chunker/src/neural_chunker.rs:104:42
    |
104 |         let semantic_analyzer = Network::load(&semantic_path.to_string_lossy())
    |                                          ^^^^ function or associated item not found in `Network<_>`
    |
note: if you're trying to build a new `ruv_fann::Network<_>` consider using one of the following associated functions:
      ruv_fann::Network::<T>::new
      ruv_fann::Network::<T>::from_bytes
   --> /Users/dmf/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/ruv-fann-0.1.6/src/network.rs:38:5
    |
38  |       pub fn new(layer_sizes: &[usize]) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
326 | /     pub fn from_bytes(bytes: &[u8]) -> Result<Self, NetworkError>
327 | |     where
328 | |         T: serde::de::DeserializeOwned,
329 | |         Network<T>: serde::de::DeserializeOwned,
    | |________________________________________________^

error[E0599]: no method named `train_epoch` found for struct `ruv_fann::Network` in the current scope
   --> src/chunker/src/neural_chunker.rs:162:50
    |
162 |                 let mse = self.boundary_detector.train_epoch(&additional_data);
    |                                                  ^^^^^^^^^^^ method not found in `Network<f32>`

error[E0599]: no method named `set_learning_rate` found for mutable reference `&mut ruv_fann::Network<f32>` in the current scope
   --> src/chunker/src/neural_chunker.rs:308:17
    |
308 |         network.set_learning_rate(0.01);
    |                 ^^^^^^^^^^^^^^^^^ method not found in `&mut Network<f32>`

error[E0599]: no method named `train_epoch` found for mutable reference `&mut ruv_fann::Network<f32>` in the current scope
   --> src/chunker/src/neural_chunker.rs:317:31
    |
317 |             let mse = network.train_epoch(&training_data);
    |                               ^^^^^^^^^^^ method not found in `&mut Network<f32>`

   Compiling opentelemetry-jaeger v0.20.0
error[E0599]: no method named `set_learning_rate` found for mutable reference `&mut ruv_fann::Network<f32>` in the current scope
   --> src/chunker/src/neural_chunker.rs:347:17
    |
347 |         network.set_learning_rate(0.005);
    |                 ^^^^^^^^^^^^^^^^^ method not found in `&mut Network<f32>`

error[E0599]: no method named `train_epoch` found for mutable reference `&mut ruv_fann::Network<f32>` in the current scope
   --> src/chunker/src/neural_chunker.rs:356:31
    |
356 |             let mse = network.train_epoch(&training_data);
    |                               ^^^^^^^^^^^ method not found in `&mut Network<f32>`

error[E0277]: the trait bound `SessionInputValue<'_>: From<ArrayBase<OwnedRepr<i64>, ndarray::Dim<IxDynImpl>>>` is not satisfied
   --> src/embedder/src/models.rs:274:30
    |
274 |               self.session.run(ort::inputs![
    |  ______________________________^
275 | |                 "input_ids" => ndarray::Array2::from_shape_vec(
276 | |                     (batch_size, seq_len),
277 | |                     input_ids
...   |
282 | |                 )?.into_dyn()
283 | |             ])?
    | |_____________^ the trait `From<ArrayBase<OwnedRepr<i64>, ndarray::Dim<IxDynImpl>>>` is not implemented for `SessionInputValue<'_>`
    |
    = help: the following other types implement trait `From<T>`:
              `SessionInputValue<'_>` implements `From<&ort::value::Value<T>>`
              `SessionInputValue<'_>` implements `From<ValueRef<'_, T>>`
              `SessionInputValue<'_>` implements `From<ValueRefMut<'_, T>>`
              `SessionInputValue<'_>` implements `From<ort::value::Value<T>>`
    = note: this error originates in the macro `ort::inputs` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unused variable: `options`
   --> src/storage/src/operations.rs:366:13
    |
366 |         let options = FindOptions::builder()
    |             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_options`
    |
    = note: `#[warn(unused_variables)]` on by default

Some errors have detailed explanations: E0412, E0433, E0599.
For more information about an error, try `rustc --explain E0412`.
warning: `chunker` (lib) generated 1 warning
error: could not compile `chunker` (lib) due to 16 previous errors; 1 warning emitted
warning: build failed, waiting for other jobs to finish...
Some errors have detailed explanations: E0277, E0412, E0433.
For more information about an error, try `rustc --explain E0277`.
error: could not compile `embedder` (lib) due to 3 previous errors
warning: constant `OPERATION_TIMEOUT` is never used
  --> src/storage/src/lib.rs:51:7
   |
51 | const OPERATION_TIMEOUT: Duration = Duration::from_secs(30);
   |       ^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: fields `metadata_collection` and `config` are never read
  --> src/storage/src/lib.rs:59:5
   |
55 | pub struct VectorStorage {
   |            ------------- fields in this struct
...
59 |     metadata_collection: Collection<MetadataDocument>,
   |     ^^^^^^^^^^^^^^^^^^^
...
62 |     config: StorageConfig,
   |     ^^^^^^
   |
   = note: `VectorStorage` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: `storage` (lib) generated 20 warnings (run `cargo fix --lib -p storage` to apply 17 suggestions)
