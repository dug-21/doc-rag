# Environment Configuration Template
# Copy to .env and customize for your environment

# Application Settings
RUST_LOG=info
RUST_BACKTRACE=1
APP_ENV=development
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
METRICS_PORT=9090

# Database Configuration
DATABASE_URL=postgres://docrag:docrag_secret@localhost:5432/docrag
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5
DATABASE_ACQUIRE_TIMEOUT=30s
DATABASE_IDLE_TIMEOUT=300s

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=redis_secret_2024
REDIS_MAX_CONNECTIONS=20
REDIS_CONNECTION_TIMEOUT=5s
REDIS_POOL_TIMEOUT=10s

# Vector Database Configuration
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_TIMEOUT=30s
QDRANT_COLLECTION_NAME=documents

# Alternative Vector DBs (uncomment to use)
# PINECONE_API_KEY=your-pinecone-key
# PINECONE_ENVIRONMENT=us-west1-gcp
# WEAVIATE_URL=http://localhost:8080
# WEAVIATE_API_KEY=

# Object Storage (MinIO/S3)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=docrag_access
MINIO_SECRET_KEY=docrag_secret_key_2024
MINIO_BUCKET_NAME=documents
MINIO_USE_SSL=false
MINIO_REGION=us-east-1

# AWS S3 (alternative to MinIO)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# S3_BUCKET_NAME=doc-rag-bucket

# Message Queue
RABBITMQ_URL=amqp://docrag:rabbitmq_secret_2024@localhost:5672/%2Fdocrag
RABBITMQ_EXCHANGE=doc-rag
RABBITMQ_QUEUE_PREFIX=docrag

# ML/Embedding Configuration
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_CACHE_DIR=./cache/models
EMBEDDING_BATCH_SIZE=32
EMBEDDING_MAX_LENGTH=512
GPU_ENABLED=false
CUDA_DEVICE=0

# Chunking Strategy
CHUNKING_STRATEGY=adaptive
MAX_CHUNK_SIZE=1024
MIN_CHUNK_SIZE=128
OVERLAP_SIZE=128
CHUNK_OVERLAP_RATIO=0.1

# Retrieval Settings
SEARCH_TOP_K=20
RERANK_TOP_K=5
SIMILARITY_THRESHOLD=0.7
SEARCH_TIMEOUT=30s
RETRIEVAL_CACHE_TTL=3600

# Security
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=86400
API_RATE_LIMIT=1000
API_RATE_WINDOW=3600

# Monitoring and Observability
PROMETHEUS_ENDPOINT=http://localhost:9091
JAEGER_AGENT_ENDPOINT=http://localhost:14268
JAEGER_SERVICE_NAME=doc-rag
ENABLE_TELEMETRY=true
ENABLE_METRICS=true
ENABLE_TRACING=true

# Development Settings
ENABLE_CORS=true
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
ENABLE_SWAGGER=true
LOG_SQL_QUERIES=false

# Feature Flags
FEATURE_ASYNC_INDEXING=true
FEATURE_BATCH_PROCESSING=true
FEATURE_SEMANTIC_SEARCH=true
FEATURE_HYBRID_SEARCH=true
FEATURE_DOCUMENT_PREVIEW=true

# Performance Tuning
WORKER_THREADS=8
ASYNC_RUNTIME_WORKER_THREADS=4
IO_WORKER_THREADS=8
CHUNKING_WORKERS=4
INDEXING_WORKERS=2
SEARCH_WORKERS=4